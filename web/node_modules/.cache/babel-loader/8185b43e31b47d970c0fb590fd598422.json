{"remainingRequest":"C:\\Users\\venno\\IdeaProjects\\Tarkvaratehnika1\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\venno\\IdeaProjects\\Tarkvaratehnika1\\web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\venno\\IdeaProjects\\Tarkvaratehnika1\\web\\src\\router.js","dependencies":[{"path":"C:\\Users\\venno\\IdeaProjects\\Tarkvaratehnika1\\web\\src\\router.js","mtime":1554306271850},{"path":"C:\\Users\\venno\\IdeaProjects\\Tarkvaratehnika1\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1553611641452},{"path":"C:\\Users\\venno\\IdeaProjects\\Tarkvaratehnika1\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1553611641170},{"path":"C:\\Users\\venno\\IdeaProjects\\Tarkvaratehnika1\\web\\node_modules\\eslint-loader\\index.js","mtime":1553611643751}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from './views/Home.vue';\nimport store from './store';\nimport login from './views/Login';\nimport auth from \"./store/modules/auth\";\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'home',\n    component: Home\n  }, {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"about\" */\n      './views/About.vue');\n    }\n  }, {\n    path: '/login',\n    name: 'login',\n    component: function component() {\n      return import('./views/Login.vue');\n    }\n  }, {\n    path: '/plans',\n    name: 'workoutplans',\n    component: function component() {\n      return import('./views/WorkoutPlans.vue');\n    }\n  }, {\n    path: '/createworkout',\n    name: 'createworkout',\n    component: function component() {\n      return import('./views/CreateWorkout.vue');\n    }\n  }, {\n    path: '/calendar',\n    name: 'calendar',\n    component: function component() {\n      return import('./views/Calendar.vue');\n    }\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  var publicPages = ['/login', '/home', '/about'];\n  var authRequired = !publicPages.includes(to.path);\n  console.log(\"authRequire: \" + authRequired);\n  var loggedIn = store.getters.isAuthenticated;\n  console.log(\"loggedIn: \" + loggedIn);\n  console.log(localStorage.getItem('token'));\n\n  if (authRequired && localStorage.getItem('token') === null) {\n    return next('/login');\n  }\n\n  next();\n});\nexport default router;",{"version":3,"sources":["C:\\Users\\venno\\IdeaProjects\\Tarkvaratehnika1\\web\\src\\router.js"],"names":["Vue","Router","Home","store","login","auth","use","router","mode","routes","path","name","component","beforeEach","to","from","next","publicPages","authRequired","includes","console","log","loggedIn","getters","isAuthenticated","localStorage","getItem"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,MAAR;AAEA,IAAMM,MAAM,GAAG,IAAIN,MAAJ,CAAW;AACxBO,EAAAA,IAAI,EAAE,SADkB;AAExBC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAEV;AAHb,GADM,EAMN;AACEQ,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGE;AACA;AACA;AACAC,IAAAA,SAAS,EAAE;AAAA,aAAM;AAAO;AAAgC,yBAAvC,CAAN;AAAA;AANb,GANM,EAcN;AACIF,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,IAAI,EAAE,OAFV;AAGIC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,mBAAP,CAAN;AAAA;AAHf,GAdM,EAmBN;AACIF,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,IAAI,EAAE,cAFV;AAGIC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,0BAAP,CAAN;AAAA;AAHf,GAnBM,EAwBN;AACIF,IAAAA,IAAI,EAAE,gBADV;AAEIC,IAAAA,IAAI,EAAE,eAFV;AAGIC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,2BAAP,CAAN;AAAA;AAHf,GAxBM,EA6BN;AACIF,IAAAA,IAAI,EAAE,WADV;AAEIC,IAAAA,IAAI,EAAC,UAFT;AAGIC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,sBAAP,CAAN;AAAA;AAHf,GA7BM;AAFgB,CAAX,CAAf;AAuCAL,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,WAAW,GAAG,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACJ,IAAxB,CAAtB;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBH,YAA9B;AACA,MAAMI,QAAQ,GAAGnB,KAAK,CAACoB,OAAN,CAAcC,eAA/B;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAeC,QAA3B;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;AACA,MAAIR,YAAY,IAAIO,YAAY,CAACC,OAAb,CAAqB,OAArB,MAAkC,IAAtD,EAA4D;AACxD,WAAOV,IAAI,CAAC,QAAD,CAAX;AACH;;AACDA,EAAAA,IAAI;AACP,CAXD;AAaA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Home from './views/Home.vue'\r\nimport store from './store'\r\nimport login from './views/Login'\r\nimport auth from \"./store/modules/auth\";\r\n\r\nVue.use(Router);\r\n\r\nconst router = new Router({\r\n  mode: 'history',\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      component: Home\r\n    },\r\n    {\r\n      path: '/about',\r\n      name: 'about',\r\n      // route level code-splitting\r\n      // this generates a separate chunk (about.[hash].js) for this route\r\n      // which is lazy-loaded when the route is visited.\r\n      component: () => import(/* webpackChunkName: \"about\" */ './views/About.vue')\r\n    },\r\n    {\r\n        path: '/login',\r\n        name: 'login',\r\n        component: () => import('./views/Login.vue')\r\n    },\r\n    {\r\n        path: '/plans',\r\n        name: 'workoutplans',\r\n        component: () => import('./views/WorkoutPlans.vue')\r\n    },\r\n    {\r\n        path: '/createworkout',\r\n        name: 'createworkout',\r\n        component: () => import('./views/CreateWorkout.vue')\r\n    },\r\n    {\r\n        path: '/calendar',\r\n        name:'calendar',\r\n        component: () => import('./views/Calendar.vue')\r\n    }\r\n  ]\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    const publicPages = ['/login', '/home', '/about'];\r\n    const authRequired = !publicPages.includes(to.path);\r\n    console.log(\"authRequire: \" + authRequired);\r\n    const loggedIn = store.getters.isAuthenticated;\r\n    console.log(\"loggedIn: \" + loggedIn);\r\n    console.log(localStorage.getItem('token'));\r\n    if (authRequired && localStorage.getItem('token') === null) {\r\n        return next('/login');\r\n    }\r\n    next();\r\n});\r\n\r\nexport default router;\r\n"]}]}